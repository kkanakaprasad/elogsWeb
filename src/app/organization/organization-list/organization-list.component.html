<div class="container">
  <div class="page-wrapper">
    <mat-tab-group (selectedTabChange)="applyOrganizationFilters($event)">
      <mat-tab label={{filters.IS_ACTIVE}}>
        <ng-template mat-tab-label>
          Active
        </ng-template>
        <div style="padding: 0px !important;">
          <h2>Organizations</h2>
        </div>
      </mat-tab>

      <mat-tab label={{filters.MINISTRIES}}>
        <ng-template mat-tab-label>
          Ministry/Department
        </ng-template>
        <h2>Organizations</h2>
      </mat-tab>

      <mat-tab label={{filters.ASSOCIATION}}>
        <ng-template mat-tab-label>
          Association
        </ng-template>
        <h2>Organizations</h2>
      </mat-tab>

      <mat-tab label={{filters.INACTIVE}}>
        <ng-template mat-tab-label>
          Disabled
        </ng-template>
        <h2>Organizations</h2>
      </mat-tab>
    </mat-tab-group>

    <section class="section">
      <div class="page-wrapper">
        <div fxLayout="row wrap" fxLayoutGap="16px" class="align main">
          <mat-card class="plus" (click)="createOrganization()" *ngIf="!this.isUser">
            <mat-card-content>
              <div class="add-icon">
                <font>+</font>
              </div>
              <h4 class="mt-2">Create Organization</h4>
            </mat-card-content>
          </mat-card>
          <mat-card *ngIf="organizationList?.length === 0 && isUser">
            <h1>No Organizations Assigned!!</h1>

          </mat-card>
          <mat-card fxFlex.lg="calc(33% - 16px)" fxFlex.lt-lg="calc(50% - 16px)" fxFlex.xs="calc(100% - 16px)"
            *ngFor="let organization of organizationList">
            <mat-card-content>
              <p>
                <span class="organization-title">{{
                  organization.organization | titlecase
                  }}</span>
                <span> ( {{ organization.shortName | uppercase }} )</span>
              </p>
              <p>
                <span>{{ organization.users.length }}</span> User(s)
              </p>
              <p>0 Activity(s)</p>
              <p>0 Hour(s) Spent</p>
              <p>0 Mb Storage</p>

              <ng-container *ngIf="organizationList[0].isActive == true">
                <div class="button">
                  <button class="addButton" mat-button color="primary" (click)="openAddUserPopup(organization._id)">
                    Add User
                  </button>

                  <button class="addButton" mat-button color="primary" (click)="updateOrganization(organization._id)">
                    Edit
                  </button>

                  <button class="addButton" mat-button color="primary" (click)="openRemoveUserPopup(organization._id)">
                    Remove User
                  </button>

                  <ng-container *ngIf="organization.users?.length >=1">
                    <button class="addButton" mat-button color="primary"
                      (click)="disableAssociation(this.organization._id,organization.organization)">
                      Disable
                    </button>
                  </ng-container>

                  <ng-container *ngIf="organization.users?.length  == 0">
                    <button class="addButton" mat-button color="primary"
                      (click)="removeUser(organization._id,organization.organization)">
                      Delete
                    </button>
                  </ng-container>

                </div>
              </ng-container>

              <ng-container *ngIf="organizationList[0].isActive == false">
                <button class="addButton" mat-button color="primary"
                  (click)="removeUser(organization._id,organization.organization)">
                  Delete User
                </button>
                <button class="addButton" mat-button color="primary" (click)="enableAssociation(this.organization._id)">
                  Enable
                </button>
              </ng-container>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </section>
  </div>
</div>